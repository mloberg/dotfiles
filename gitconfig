[alias]
  p = pull --rebase --prune --autostash
  co = checkout
  pf = push --force-with-lease
  tags = tag -l
  branches = branch -a
  remotes = remote -v
  sync = "up --hard"
  # List aliases
  aliases = "!git config --get-regexp 'alias.*' | sed 's/alias\\.//' | sed 's/[ ]/ = /' | sort | ${PAGER:-less}"
  alias = "!f() { git aliases | grep -e \"$1\" | ${PAGER:-less}; }; f"
  # List contributors by number of commits
  contributors = shortlog -sn
  # See what's staged
  staged = diff --staged
  # Show log of commits that haven't been pushed yet
  unpushed = log @{u}..
  # Show diff of changes that haven't been pushed yet
  changes = "!git diff origin/$(git rev-parse --abbrev-ref HEAD)..HEAD"
  # Amend the last commit
  amend = commit --amend -C HEAD
  # Undo the last commit, but keep the changes
  undo = reset --soft HEAD^
  # Create new branch
  new = checkout -b
  # Rename the current branch
  rename = branch -m
  # Unstage a file
  unstage = restore --staged
  # Publish the current branch to the remote
  publish = "!f() { git push --set-upstream ${1:-origin}; }; f"
  # Delete a branch on the remote
  unpublish = "!f() { git push ${2:-origin} --delete $1; }; f"
  # Delete a branch locally and on the origin remote
  nuke = "!f() { git unpublish $1; git branch -D $1; }; f"
  # Show merged branches
  merged = "!git branch --merged | grep -vE '\\*|master|main|develop'"
  # Delete all branches that no longer have a remote
  delete-missing-branches = "!git fetch --prune && git branch -vv --no-color | grep ': gone]' | awk '{print $1}' | xargs -n 1 git branch -D"
  # Credit the author of the last commit
  credit = "!f() { git commit --amend --author \"$1 <$2>\" -C HEAD; }; f"
  # Interactive rebase of commits that haven't been pushed yet
  wip = rebase -i @{u}
  # Interactive rebase with the given number of latest commits
  reb = "!r() { git rebase -i HEAD~$1; }; r"
  # Squash the current branch (for merge request) (git squash main origin)
  squash = "!s() { git fetch; git rebase -i ${2:-origin}/${1:-main}; }; s"
  # Show summary of commits
  summary = log --name-status
  # Bisect shortcut. Assumes the bad commit is HEAD
  bs = "!b() { git bisect start ${2:-HEAD} ${1}; }; b"
  # Lock files (ignore changes)
  lock = update-index --skip-worktree
  locked = "!l() { git ls-files -v | grep "^S" | sed -e 's|S ||'; }; l"
  unlock = update-index --no-skip-worktree
  # Show diff of last stash
  stashed = stash show -p
  # Create pull requests with GitHub's CLI
  pr = "!gh pr create"
  # Checkout pull request
  cpr = "!gh pr checkout $(gh pr list | fzf | awk '{print $1}')"
  # Clone repo
  repo = "!gh repo clone"
  # Open repo in web browser
  view = "!gh repo view --web"
[apply]
  whitespace = nowarn
[color]
  diff = auto
  status = auto
  branch = auto
  ui = true
[core]
  excludesfile = ~/.gitignore
  editor = vim
  # Treat spaces before tabs and all kinds of trailing whitespace as an error
  # [default] trailing-space: looks for spaces at the end of a line
  # [default] space-before-tab: looks for spaces before tabs at the beginning of a line
  whitespace = space-before-tab,-indent-with-non-tab,trailing-space
  # Make `git rebase` safer on macOS
  # More info: <http://www.git-tower.com/blog/make-git-rebase-safe-on-osx/>
  trustctime = false
  # Prevent showing files whose names contain non-ASCII symbols as unversioned.
  # http://michael-kuehnel.de/git/2014/11/21/git-mac-osx-and-german-umlaute.html
  precomposeunicode = false
[difftool]
  prompt = false
[fetch]
  prune = true
[help]
  autocorrect = 1
[include]
  path = ~/.gitconfig.local
[merge]
  ff = only
[mergetool]
  keepBackup = false
[push]
  default = current
  followTags = true
[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  process = git-lfs filter-process
  required = true
[init]
  defaultBranch = main
